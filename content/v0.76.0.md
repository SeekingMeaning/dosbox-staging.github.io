+++
title = "0.76.0 Release Notes"
date = 2020-11-18
+++

Installation instructions:

- [Linux](/downloads/linux/) (or [Steam on Linux](/downloads/linux#steam))
- [Windows](/downloads/windows/)
- [macOS](/downloads/macos/)


## Table of Contents

- [1. Summary](#1-summary)
- [2. New Features in Detail](#2-new-features-in-detail)
- [3. Bugfixes](#3-bugfixes)
- [4. Known issues](#4-known-issues)
- [5. Removed features](#5-removed-features)
- [6. Notes for Packagers](#6-notes-for-packagers)
- [7. Notes for Developers](#7-notes-for-developers)
- [8. Changes merged from upstream projects](#8-changes-merged-from-upstream-projects)
- [9. Contributors](#9-contributors)


## 1. Summary

TODO

## 2. New Features in Detail

### Improve --editconf, --printconf options

Sometimes it's hard to determine the location of `dosbox-staging.conf` file -
user might not know the location of config file or it might be affected by
certain OS settings.

These two options help user find/edit the file:

- `dosbox --editconf` - open the default .conf file in a text editor.

  This option respects `EDITOR` environment variable. If user did not select
preferred editor, then one of the following ones will be used:
`nano`, `vim`, `vi`, `notepad++.exe`, `notepad.exe`.

- `dosbox --printconf` - print .conf file path to the standard output.


### Add LS command

`ls` (list directory contents) Unix command is widely available across the
operating systems. Most users of modern OSes are likely to have it in their
muscle memory rather than ancient DOS `dir` command.

This is a very simple implementation, somewhat resembling the default operation
of GNU `ls`. It tries to fit as many directory entries on the screen as
possible and uses colour to clearly indicate directories and executable files.
Additionally, all files are displayed lowercase and all directories are
uppercase (Norton Commander style).

![example: dir /w /p](/dir_w_p_in_win311.png)
*Above: Windows 3.11 listed using `dir /w /p` - not enough space to show all
files, hard to distinguish between files and directories.*

*Below: The same directory listed using `ls` - more efficient utilization of
space in 80x25 DOS text mode, easier to read.*
![example: ls](/ls_in_win311.png)


### Rapid DC-offset correction for the emulated PC speaker

Audio speakers work by pushing and pulling their diaphram at a rate
equal to the frequency of the audio being played.

Physical PC speakers can sometimes be left in a pushed-out or pulled-in
state through constant voltage, called DC-offset. DC offset in a real
PC speaker typically isn't a problem because it will remain silent in
an offset state.

However in DOSBox, the emulated PC speaker's audio samples are mixed
with those from the other emulated audio devices, such as the Sound
Blaster or Adlib. Eliminating DC-offset is important in because it
can:

- cause a pop if the next sample played has a position signficantly
different from the position of the DC-offset

- harm accurate sound reproduction of other sound devices by moving
half the waveform further away from the center line (making it
louder) and the other half of the waveform closer to the center line
(making it quieter).

This new configuration option, `zero_offset` under the `[speaker]`
section, defaults to `'auto'`. It's enables for non-Windows systems
and  disabled on Windows as some Windows drivers appear to attempt
their own DC offset correction.

For visuals and more detail about this change, see:
https://github.com/dosbox-staging/dosbox-staging/pull/480

For a discussion about Windows 10 performing DC-offset correction,
see: https://github.com/dosbox-staging/dosbox-staging/pull/625


### Dynamic recompilation for PowerPC and POWER8 (ppc64le)

[Dynamic recompilation](https://en.wikipedia.org/wiki/Dynamic_recompilation)
support was extended to support PowerPC (32-bit) and POWER8 (64-bit)
architectures using community-developed patches (with slight improvements).

Shoutout to AmigaOS community for helping with thorough testing of
PowerPC support! :)


### Audio pop and click improvements

Some games generate audio pops or clicks during startup. We've added
two changes to reduce the occurance of these:

- Initial audio by all emulated devices is fed through a 15-ms
  envelope specifically timed to prevent unnatural electronic pops and
  clicks, yet fast enough to ensure that sharp-attack natural sounds
  (such as a symbol crash) are not affected.

  For visuals and detail about the enveloper, see:
  https://github.com/dosbox-staging/dosbox-staging/pull/442

- Some games test their interface to the Sound Blaster 16 using one or
  more small "junk" DMA transfers. Unfortunately on actual hardware,
  these result in startup clicks and pops, which can be jarring when
  using a headset.  We now suppress these initial junk transfers.

  For visuals and detail about DMA suppression, see:
  https://github.com/dosbox-staging/dosbox-staging/pull/411


### Gravis UltraSound (GUS) improvements

Several changes have been made to the GUS emulation resulting in (sometimes)
audible difference, as follows:

- Output levels are now typically on-par with other audio devices.

- Panning of voices is now performed using constant-power, as described in the
  Gravis' SDK documentation. Constant-power panning was originally researched
  by the British Broadcasting Corporation (BBC) and found to produce the most
  realistic perception of voice placement on a radial axis from the listener.

- When quiting DOSBox Staging, information about the games' GUS audio stream
  will be provided, such as the breakdown of 8-bit versus 16-bit samples.
  A potential suggestion to adjust the game's GUS mixer level, either upward
  or downward may also be provided, which you could paste into your game's
  startup batch file or `[autoexec]` section.

We recommend using GUS emulation for the handful of DOS games that natively
support the GUS's multi-voice feature. For a list of these games, see:
https://github.com/dosbox-staging/dosbox-staging/wiki/Gravis-Ultrasound-(GUS)

For more details about DOSBox Staging's GUS enhancements, see:
https://github.com/dosbox-staging/dosbox-staging/wiki/Gravis-UltraSound-Enhancements

For information about constant-power panning, see pages 7 and 8:
http://downloads.bbc.co.uk/rd/pubs/whp/whp-pdf-files/WHP051.pdf


### Add an option for skipping the splash screen

The splash screen can now be skipped through a new configuration option
called `startup_verbosity` in the `[dosbox]` section.

- When set to `high`, the splash screen, blue help block, and any of
  dosbox's initial console output will be shown.

- When set to `medium`, the splash screen is skipped, but the blue help
  block and any of dosbox's initial console output will be shown.

- When set to `low`, the splash screen and blue help block will be skipped,
  but any of dosbox's initial console output will be shown.

- When set to `quiet`, all of the above will be skipped. The first output
  will either be the command prompt or output from startup executables.

By default, the verbosity it set to `auto`, which is equal to `low` when
an executable or directory is passed on the commandline. Otherwise `auto`
is equal to `high` when DOSBox Staging is started without initial commands.

For a visual depiction of the options, see:
- https://github.com/dosbox-staging/dosbox-staging/pull/477


### Revise help messages for built-in commands

TODO describe for non-technical users

DIR 934485421ff4558c269606e4007a4e712adfc6ca
MOUNT ??
IMGMOUNT ??


### Add pixel-perfect option when using OpenGL output

TODO describe for non-technical users
openglpp was supposed to be temporary, but we'll deprecate it in 0.77.0
TODO showcase pixel-perfect + resizable window

```
    Add openglpp option

    It's a temporary; should be supported as hidden, "deprecated"
    option; other forks provide it as an option, so we need to handle it
    (with a warning) but we shouldn't advertise it to the users.
```


### Add FluidSynth support

TODO describe for non-technical users
Important commits:
- fb5ad16a598839c930ef1d1cc1c3a5eb91f7939d


### Improve Telnet-mode handling for Modem emulation

For those hosting a BBS behind a Telnet interface, you can now
pre-configure your serial port in Telnet-mode with the `telnet:1`
argument, as follows:

``` ini
[serial]
serial1 = modem telnet:1 listenport:2323
```

For those dialing BBSs hosted behind a Telnet interface, use the
following dial-prefix: `AT+NET1DT`. In general, the `+NET1` or `+NET0`
AT-command will enable or disable Telnet-mode, respectively.

This change bring Telnet-mode in-line with the Hayes multi-character
command specification, which should be compatible with existing BBS
software.

For more background about this change, see:
https://github.com/dosbox-staging/dosbox-staging/pull/582


### Fix setting file timestamp

DOS function [5701h "Set File Time/Date"][5701h] was implemented.

This corrects long-standing emulation issue when it comes to date handling of
files created in DOS (e.g. when files are being unpacked from an archive).
This fixes some game installers and other software that checks file modification
times.

[5701h]: https://dos4gw.org/DOS_Fn_5701H_Set_File_Time_Date


### Case-insensitive paths handling

For mount, imgmount commands.

```
commit 1f03e0fec9c0e0a4b614c1990f5bec1612c4ebda
Author: Patryk Obara <dreamer.tan@gmail.com>
Date:   Sat Oct 17 19:59:04 2020 +0200

    Treat imgmount input path as case-insensitive

    Add more logs, so it should be easier for users to figure out what is
    happening when the imgmount command can't find the file.

    This change is required to make the .conf files cross-platform. It's
    usual practice for DOS packagers and distributors to write imgmount
    commands expecting case-insensitive filesystem and Windows path
    separators.

    DOSBox already does various path conversions to accomodate e.g. switching
    directory separators or even checks if path can't be loaded as
    case-insensitive when relative to virtual DOS drive.
```


### Revise default keyboard shortcuts

TODO describe for non-technical users

- **Alt-Enter** - Switch between fullscreen and window mode.
- **Alt-Pause** - Pause/Unpause emulator.
- **Ctrl-F1** - Start the keymapper.
- **Ctrl-F4** - Change between mounted floppy/CD images.
- **Ctrl-F5** - Save a screenshot.
- **Ctrl-F6** - Start/Stop recording sound output to a wave file.
- **Ctrl-F7** - Start/Stop recording video output to a zmbv file.
- **Ctrl-F9** - Shutdown emulator.
- **Ctrl-F10** - Capture/Release the mouse.
- **Ctrl-F11** - Slow down emulation.
- **Ctrl-F12** - Speed up emulation.
- **Ctrl-Alt-Home** - Restart emulator.
- hold **Alt-F12** - Fast forward.

Keymapper received tiny usabity improvements as well: it displays
keyboard shortcut (binding) for selected action.


### Monochrome palette colour setting

When emulating monochrome displays (Hercules or CGA/monochrome), the default
colour palette can now be selected in the configuration file.

*This feature was backported to 0.75.2 release;
[read more](/v0-75-2/#2-1-select-monochrome-palette-colour).*


### Raw mouse input setting

User can now bypass the operating system's mouse acceleration and sensitivity
settings. This works in fullscreen or when the mouse is captured in window mode.

*This feature was backported to 0.75.2 release;
[read more](/v0-75-2/#2-2-raw-mouse-input).*


### 10-axis controller support

Old joysticks compatible with DOS games can be emulated using modern 10-axis
controllers (like DualShock or Xbox controllers).

*This feature was backported to 0.75.1 release;
[read more](/v0-75-1/#2-1-add-support-for-binding-more-controller-axes).*


### Log memory base address

Base memory address of DOS's emulated memory region is now logged to the
console to help some users of external software.

*This feature was backported to 0.75.1 release;
[read more](/v0-75-1/#2-3-log-base-address-of-emulated-memory).*


## 3. Bugfixes

Notable bugfixes:

- Prevent SDL2 crash on exit when using Wayland. ([#336])
- Fix sound effects in Prince of Persia on Tandy. ([#457])
- Prevent crash on SDL2 re-creating OpenGL window. ([#510])
- Fix `dir /p` in non-standard text modes. ([#528])
- Prevent injection of spurious newlines in autoexec and bat files. ([#536])
- Fix `caputure_mouse` `middlegame` setting. ([#563])
- Fix a CD-DA roll-over bug when calculating PCM frames. ([#569])
- Fix boot failure from image mounted as C:. ([#589])
- Fix memory leak in modem phone book. ([#622])
- Fix `cls` command. ([#639])

- Fix regression in Clue: Master Detective - 8c0021ab2a0ae56a413e12816c0cb8a472f36cd0
- Update the default number of open DOS file handles to 255 - 476eae50022f65b87d7b12b04191e0ac1e22c149
- Set Precision Exception in FRNDINT, so that the Borland pascal pow implementation works correctly with non-integer arguments - 7892be26c72f812c0f58d17524516370fbde9bd6
- Bundle VS C++ Runtime File in Windows package - d7abe4d27c8aa73a9a54a1ce09555a2efd41e9b4
- Identify Pentium CPUID to indicate CPU without FDIV bug - 4764bb9eb1e36abbd36407655e1531854bf42a0c

- Multiple fixes for demoscene productions (look through commits by ripsaw)

[#336]: https://github.com/dosbox-staging/dosbox-staging/issues/336
[#457]: https://github.com/dosbox-staging/dosbox-staging/pull/457
[#510]: https://github.com/dosbox-staging/dosbox-staging/pull/510
[#528]: https://github.com/dosbox-staging/dosbox-staging/pull/528
[#536]: https://github.com/dosbox-staging/dosbox-staging/pull/536
[#563]: https://github.com/dosbox-staging/dosbox-staging/pull/563
[#569]: https://github.com/dosbox-staging/dosbox-staging/pull/569
[#589]: https://github.com/dosbox-staging/dosbox-staging/pull/589
[#622]: https://github.com/dosbox-staging/dosbox-staging/pull/622
[#639]: https://github.com/dosbox-staging/dosbox-staging/pull/639


## 4. Known issues

TODO

- SELinux / memory write protection.
- Mapping key scancodes on Linux using xmodmap might break SDL2 ability to
  detect your keyboard layout. Use (??? see in Discord chat) instead.
- Keymapper has issues with mapping multiple axis when multiple controllers
  are plugged in (e.g. notably when using modern joysticks and throttles
  connected at the same time).


## 5. Removed features

- `[gus]` `gusrate` - removed, not needed
- `oplrate` - removed - 5ff2386b32d50930dfdecc649261e44ecab0ea2b


## 6. Notes for Packagers

TODO: Notify about FluidSynth dependency, and any other packaging related
changes.


## 7. Notes for Developers

TODO describe briefly:

- Switch to using C++14
- Add Windows x64 builds to Visual Studio solution
- Introduce CI gating based on MSVC, 32-bit and 64-bit builds
- Remove MSYS2 from gating


## 8. Changes merged from upstream projects

- Merge DOSBox SVN changes up to revision 4392 TODO double-check
- Sync dr_mp3 v0.6.11 from upstream
- Sync dr_flac v0.12.13 from upstream
- Sync dr_wav v0.12.4 from upstream
- Sync xxhash 0.8.0 from upsteam
- Sync stb header v2.36 from upstream
- Sync stb_vorbis v1.19 from upstream


## 9. Contributors

**Maintainers:**

**Contributors:**

